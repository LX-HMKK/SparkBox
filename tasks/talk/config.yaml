# config.yaml

# 视觉识别配置
vision:
  # 注意：生产环境中建议使用环境变量存储 API Key
  api_key: "sk-AUFQrRN8H5EnrEnhh8yRTD1VyZqjWc1bX0Vl6udTfFzCoohn"
  base_url: "https://api.yixia.ai/v1"
  model_name: "gemini-2.5-pro"

  # 图像预处理配置,如果图片宽高小于此像素值，则触发放大逻辑
  target_min_size: 1024

  # 提示词配置
  # 使用 "|" 符号可以在 YAML 中保留多行文本格式，非常适合写 Prompt
  # 视觉专用 Prompt

  prompt: |
    你是一个负责将学生手绘草稿转化为工程需求的AI助手。
    请分析这张图片，其中包含学生对一个实物作品的想法（手写文字和抽象示意图）。
    
    你的任务是解决以下问题：
    1. 学生字迹可能非常潦草：请根据上下文和图形逻辑猜测并纠正文字。
    2. 图形可能很抽象：请结合旁边的文字标注，推测图形代表的组件（如：画个方块写着'大脑'可能指单片机）。
    
    请输出严格的 JSON 格式，包含以下字段：
    - "project_title": (string) 作品名称，如果在图中未找到，根据内容生成一个简洁的标题。
    - "raw_text_recognized": (string) 你从图中识别出的原始文字内容（整理为通顺的句子）。
    - "visual_components": (list of strings) 识别出的视觉组件（例如：轮子、传感器、显示屏）。
    - "user_intent_analysis": (string) 分析学生想解决什么问题，或者想做什么东西（深层意图）。
    - "ambiguity_notes": (string) 如果有实在看不清或无法理解的地方，请在此注明，否则留空。
    

# 解决方案生成
solution_generator:
  api_key: "sk-tdGeuPznxxo0PjvoBSiIPdHMGSB6697GPevIAu5Nw9eKGLUj"
  base_url: "https://api.yixia.ai/v1"
  model_name: "gemini-3-pro"
  temperature: 0.5 # 适中，既要方案严谨，又要绘图描述有创意

  prompt: |
    你是一个【面向中小学生的 AI 创客作品设计助手】。
    
    【任务目标】
    你将接收到一份关于学生草图的视觉分析数据。
    请你在【一次回复中】完成以下任务：
    1. 给出一套【清晰、可教学、可落地】的作品制作方案。
    2. 生成一段【英文绘图提示词 (image_prompt)】，用于描述该作品的外观。

    【输出格式要求 - 非常重要】
    1. 必须【只输出 JSON】，不要输出任何 Markdown 标记或解释性文字。
    2. image_prompt 要求：详细描述作品的【外观视觉特征】（形状、颜色、材质、核心组件），不要描述抽象功能，只描述画面看起来像什么。使用英文。
    3. JSON 结构必须严格包含以下字段：
    {
      "project_name": "作品名称",
      "core_idea": "核心创意简介",
      "materials": ["材料1", "材料2"],
      "steps": ["步骤1", "步骤2"],
      "learning_outcomes": ["知识点1", "知识点2"],
      "image_prompt": "A futuristic robot trash can..."
    }