# åˆ›æ„æ²™ç›’ SparkBox

<div align="center">

[![Generic badge](https://img.shields.io/badge/Project-SparkBox-blue.svg)](https://shields.io/)
[![Generic badge](https://img.shields.io/badge/Language-Python-brightgreen.svg)](https://shields.io/)
[![Generic badge](https://img.shields.io/badge/Framework-OpenCV-orange.svg)](https://shields.io/)

> ğŸ¨ ä¸€ä¸ªç»¼åˆæ€§çš„å›¾åƒå¤„ç†ä¸äº¤äº’ç³»ç»ŸåŸå‹

</div>

## é¡¹ç›®ç®€ä»‹

åˆ›æ„æ²™ç›’ SparkBox æ˜¯ä¸€ä¸ªç»¼åˆæ€§çš„å›¾åƒå¤„ç†ä¸äº¤äº’ç³»ç»ŸåŸå‹ï¼Œæ—¨åœ¨æ„å»ºä¸€ä¸ªé›†å›¾åƒé‡‡é›†ã€å¤„ç†ä¸æœªæ¥AIæ¨¡å‹äº¤äº’å’Œå¯è§†åŒ–è¾“å‡ºäºä¸€ä½“çš„å¼€å‘å¹³å°ã€‚æœ¬é¡¹ç›®ä¸“æ³¨äºå®ç°é«˜è´¨é‡çš„å®æ—¶å›¾åƒé‡‡é›†ä¸é¢„å¤„ç†ï¼ˆå»ç•¸å˜ã€ä»¿å°„å˜æ¢ï¼‰ï¼Œä¸ºåç»­æ¨¡å‹äº¤äº’å’ŒUIå±•ç¤ºæä¾›å¯é è¾“å…¥ã€‚

**ç›®æ ‡ç”¨æˆ·**ï¼šè®¡ç®—æœºè§†è§‰å¼€å‘è€…ã€æœºå™¨äººç³»ç»Ÿå¼€å‘è€…ä»¥åŠå¤šæ¨¡æ€äº¤äº’ç ”ç©¶è€…ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ“· **å®æ—¶å›¾åƒé‡‡é›†**ï¼šæ”¯æŒæ‘„åƒå¤´å®æ—¶è·å–å›¾åƒ
- ğŸ”§ **å›¾åƒé¢„å¤„ç†**ï¼šåŸºäºæ ‡å®šæ–‡ä»¶è¿›è¡Œå»ç•¸å˜å’Œä»¿å°„å˜æ¢
- ğŸ§© **æ¨¡å—åŒ–è®¾è®¡**ï¼šä¾¿äºåŠŸèƒ½æ‰©å±•å’Œç»´æŠ¤
- ğŸ“ **YAMLé…ç½®**ï¼šæ”¯æŒç›¸æœºæ ‡å®šæ•°æ®åŠ è½½

## ğŸ“ é¡¹ç›®ç»“æ„

```
Sparkbox_ws/
â”œâ”€â”€ README.md                    
â”œâ”€â”€ .gitignore                  
â”œâ”€â”€ asset/                       # èµ„æºæ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ camera.yaml              # ç›¸æœºæ ‡å®šæ•°æ®
â”‚   â””â”€â”€ class.yaml               # åˆ†ç±»æ ‡ç­¾é…ç½®
â”œâ”€â”€ img/                         # å›¾åƒå­˜å‚¨ç›®å½•ï¼ˆå¾…ä½¿ç”¨ï¼‰
â”œâ”€â”€ src/                         # ä¸»å‡½æ•°ç›®å½•ï¼ˆå¾…å¼€å‘ï¼‰
â”œâ”€â”€ tasks/                       # ä»»åŠ¡æ¨¡å—ç›®å½•
â”‚   â”œâ”€â”€ img_input/               # å›¾åƒé‡‡é›†ä¸é¢„å¤„ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ calibrate.py         # ç›¸æœºæ ‡å®šç›¸å…³å¤„ç†
â”‚   â”‚   â”œâ”€â”€ check_labels.py      # æ ‡ç­¾æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ detect.py            # æ£€æµ‹åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ get_corners_example.py # è·å–è§’ç‚¹ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ model_test.py        # æ¨¡å‹æµ‹è¯•è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ process_labels.py    # å¤„ç†æ ‡ç­¾
â”‚   â”‚   â””â”€â”€ take_img.py          # å›¾åƒé‡‡é›†ä¸»è„šæœ¬
â”‚   â”œâ”€â”€ talk/                    # æ¨¡å‹äº¤äº’æ¨¡å—
â”‚   â”‚   â””â”€â”€ creative_demo.py     # åˆ›æ„æ¼”ç¤º
â”‚   â””â”€â”€ ui_output/               # UIè¾“å‡ºæ¨¡å—
â”‚       â”œâ”€â”€ templates/           # å‰ç«¯æ¨¡æ¿
â”‚       â”‚   â””â”€â”€ index.html       # ä¸»é¡µé¢æ¨¡æ¿
â”‚       â”œâ”€â”€ agent.py             # ä»£ç†æœåŠ¡
â”‚       â””â”€â”€ app.py               # Webåº”ç”¨å…¥å£
```

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### æ¶æ„è®¾è®¡

- **åˆ†å±‚æ¨¡å—åŒ–æ¶æ„**ï¼šé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œå„åŠŸèƒ½æ¨¡å—ç‹¬ç«‹å­˜æ”¾äº `tasks/` ç›®å½•ä¸‹
- **é…ç½®é©±åŠ¨**ï¼šä½¿ç”¨ `camera.yaml` å­˜å‚¨ç›¸æœºæ ‡å®šå‚æ•°

### æŠ€æœ¯é€‰å‹

| æŠ€æœ¯ç±»åˆ« | æŠ€æœ¯æ ˆ |
|---------|--------|
| **åç«¯** | Python 3.8+ |
| **å›¾åƒå¤„ç†** | opencv-python |
| **æ•°å€¼è®¡ç®—** | numpy |
| **é…ç½®è§£æ** | pyyaml |
| **Webæ¡†æ¶** | Flask |

### ä¸»è¦åŠŸèƒ½

| åŠŸèƒ½ | æè¿° |
|------|------|
| **å›¾åƒé‡‡é›†** | é€šè¿‡æ‘„åƒå¤´å®æ—¶è·å–å›¾åƒï¼ˆè®¾å¤‡ç´¢å¼•1ï¼Œåˆ†è¾¨ç‡1280Ã—720ï¼Œ30FPSï¼‰ |
| **å›¾åƒé¢„å¤„ç†** | åŸºäºæ ‡å®šæ–‡ä»¶è¿›è¡Œå»ç•¸å˜å’Œä»¿å°„å˜æ¢ |
| **æ¨¡å—åŒ–æ‰©å±•** | é¢„ç•™æ¨¡å‹äº¤äº’ä¸UIè¾“å‡ºæ¨¡å—æ¥å£ |

## âš ï¸ ç°å­˜é—®é¢˜

> [!WARNING]
>
> - å½“å‰ä»…å®Œæˆå›¾åƒé‡‡é›†æ¨¡å—ï¼Œå…¶ä½™åŠŸèƒ½å¾…å¼€å‘
> - ä¸»å…¥å£å°šæœªå¼€å‘ï¼ˆsrc/ æœªå¼€å§‹æ•´åˆæ¨¡å—ï¼‰
> - æ— è‡ªåŠ¨åŒ–æµ‹è¯•å’Œæ–‡æ¡£è¯´æ˜


## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

```bash
python >= 3.8
opencv-python
numpy
pyyaml
flask
```

### 1. ç¯å¢ƒé…ç½®

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (Windows)
venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install opencv-python numpy pyyaml flask
```

### 2. ç›¸æœºé…ç½®

- **è®¾å¤‡ç´¢å¼•**ï¼š1
- **åˆ†è¾¨ç‡**ï¼š1280Ã—720
- **å¸§ç‡**ï¼š30 FPS

> âš ï¸ è¯·ç¡®ä¿ç›¸æœºè®¾å¤‡å·²æ­£ç¡®è¿æ¥å¹¶é…ç½®ã€‚

### 3. è¿è¡Œé¡¹ç›®

#### å›¾åƒé‡‡é›†æ¨¡å—

```bash
python tasks/img_input/take_img.py
```

#### æ¨¡å‹æµ‹è¯•

```bash
python tasks/img_input/model_test.py
```

#### Web UI æ¨¡å—

```bash
python tasks/ui_output/app.py
```

#### æ¨¡å‹äº¤äº’æ¼”ç¤º

```bash
python tasks/talk/creative_demo.py
```

## ğŸ“– ä½¿ç”¨è¯´æ˜

### å›¾åƒé‡‡é›†ä¸é¢„å¤„ç†

ä½¿ç”¨ [take_img.py](file:///d%3A/StudyWorks/3.1/item1/Sparkbox_ws/tasks/img_input/take_img.py) è„šæœ¬å¯ä»¥é‡‡é›†å›¾åƒå¹¶è¿›è¡Œé¢„å¤„ç†ï¼š

1. ä»æ‘„åƒå¤´ï¼ˆè®¾å¤‡ç´¢å¼•1ï¼‰é‡‡é›†å›¾åƒ
2. ä½¿ç”¨ [camera.yaml](file:///d%3A/StudyWorks/3.1/item1/Sparkbox_ws/asset/camera.yaml) ä¸­çš„æ ‡å®šæ•°æ®è¿›è¡Œå»ç•¸å˜å¤„ç†
3. åº”ç”¨ä»¿å°„å˜æ¢è¿›è¡Œå›¾åƒæ ¡æ­£

### æ ‡ç­¾å¤„ç†

ä½¿ç”¨ [process_labels.py](file:///d%3A/StudyWorks/3.1/item1/Sparkbox_ws/tasks/img_input/process_labels.py) å’Œ [check_labels.py](file:///d%3A/StudyWorks/3.1/item1/Sparkbox_ws/tasks/img_input/check_labels.py) å¤„ç†å’Œæ£€æŸ¥æ ‡ç­¾æ•°æ®ã€‚

### æ¨¡å‹æµ‹è¯•

[model_test.py](file:///d%3A/StudyWorks/3.1/item1/Sparkbox_ws/tasks/img_input/model_test.py) æä¾›äº†æ¨¡å‹æµ‹è¯•åŠŸèƒ½ï¼Œç”¨äºéªŒè¯å›¾åƒå¤„ç†æµç¨‹æˆ–æ¨¡å‹è¾“å…¥å‡†å¤‡ã€‚

### Web UI

UIè¾“å‡ºæ¨¡å—æä¾›äº†åŸºäºFlaskçš„Webç•Œé¢ï¼Œå¯æŸ¥çœ‹å¤„ç†åçš„å›¾åƒå’Œäº¤äº’ç»“æœã€‚

## âš™ï¸ é…ç½®è¯´æ˜

### ç›¸æœºæ ‡å®šæ–‡ä»¶

[camera.yaml](file:///d%3A/StudyWorks/3.1/item1/Sparkbox_ws/asset/camera.yaml) æ–‡ä»¶åŒ…å«ç›¸æœºçš„å†…å‚å’Œç•¸å˜ç³»æ•°ï¼Œç”¨äºå›¾åƒå»ç•¸å˜å¤„ç†ã€‚

### æ ‡ç­¾é…ç½®

[class.yaml](file:///d%3A/StudyWorks/3.1/item1/Sparkbox_ws/asset/class.yaml) æ–‡ä»¶å®šä¹‰äº†åˆ†ç±»æ ‡ç­¾ï¼Œç”¨äºå›¾åƒè¯†åˆ«å’Œæ ‡æ³¨ã€‚

## ğŸ“‹ å¼€å‘è®¡åˆ’

- [ ] **æ¨¡å‹äº¤äº’æ¨¡å—**ï¼šé›†æˆAIæ¨¡å‹è¿›è¡Œå›¾åƒåˆ†æå’Œå¤„ç†
- [ ] **å¢å¼ºUIåŠŸèƒ½**ï¼šæä¾›æ›´å¤šå¯è§†åŒ–å’Œäº¤äº’åŠŸèƒ½
- [ ] **æ€§èƒ½ä¼˜åŒ–**ï¼šæå‡å®æ—¶å¤„ç†æ€§èƒ½
- [ ] **å¤šæ‘„åƒå¤´æ”¯æŒ**ï¼šæ‰©å±•å¤šæ‘„åƒå¤´å¤„ç†èƒ½åŠ›
- [ ] **é…ç½®ç•Œé¢**ï¼šæä¾›å›¾å½¢åŒ–é…ç½®å·¥å…·

## ğŸ“‹ æŠ€æœ¯çº¦æŸ

- å®æ—¶è§†é¢‘æµå¤„ç†éœ€ç»´æŒ30FPS
- ä¾èµ–ç‰¹å®šæ‘„åƒå¤´è®¾å¤‡ç´¢å¼•ï¼ˆindex=1ï¼‰ï¼Œéœ€ç¡®ä¿ç¡¬ä»¶åŒ¹é…
- åˆ†è¾¨ç‡å’Œå¸§ç‡å›ºå®šï¼Œçµæ´»æ€§å—é™

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›æœ¬é¡¹ç›®ã€‚

## ğŸ“„ è®¸å¯è¯

[åœ¨æ­¤å¤„æ·»åŠ è®¸å¯è¯ä¿¡æ¯]

---

<div align="center">

Made with â¤ï¸ by SparkBox Team

</div>